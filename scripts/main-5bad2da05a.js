/*!
 *              __     _
 *   _    _/__  /./|,//_`
 *  /_//_// /_|///  //_, v.0.2.1
 *
 * Copyright Â© 2016 outaTiME. All rights reserved.
 */
"use strict";!function(t){var e="ontouchstart"in t;$(".cover-avatar").on(e?"touchstart":"click",function(t){t.preventDefault(),$(this).toggleClass("hover")});var n,o=function(t,e){e=e||$.noop,t!==n&&(t!==!0?(console.log("Midnight commander"),e.call(this),$("body").removeClass("dott").addClass("mc")):(console.log("Day of the tentacle"),e.call(this),$("body").removeClass("mc").addClass("dott")),n=t)},a=function(t){o(!0,t)},s=function(){if(arguments.length>0){var e=arguments[0];console.log("Location: %s",e.country);var s=SunCalc.getTimes(new Date,e.latitude,e.longitude);console.log("Sunrise: %s",s.sunrise),console.log("Sunset: %s",s.sunset);var i=s.sunrise,c=s.sunset,l=60*i.getHours()+i.getMinutes(),u=60*c.getHours()+c.getMinutes();a=function(t){var e=new Date,n=60*e.getHours()+e.getMinutes();o(n>=l&&u>=n,t)}}else console.log("No location found");a(function(){var e,s=t.setInterval(function(){a()},6e4),i=function(n,a){t.clearInterval(s),a!==!1&&e&&t.clearInterval(e),o(n!==!1)};t.outa={dott:function(t){i(!0,t)},mc:function(t){i(!1,t)},"switch":function(t){i(!n,t)},party:function(n){var o=this;this["switch"](),e=t.setInterval(function(){o["switch"](!1)},1*(n||1e3))}},$(".blocking-overlay").addClass("done")})},i=new PxLoader;i.addImage("images/empty_wide-bf1e302e49.jpg"),i.addImage("images/night_empty_wide-8815cba0ba.jpg"),i.addImage("//2.gravatar.com/avatar/5674d32fd9778602c097731984f0ec96?s=200"),i.addImage("images/avatar-2x-bd05f50329.png"),i.addCompletionListener(function(){$.ajax({url:"//freegeoip.io/json/",type:"POST",dataType:"jsonp"}).success(function(t){s({ip:t.ip,country:t.country_name,latitude:t.latitude,longitude:t.longitude})}).fail(function(){s()})}),i.start()}(window);